<!DOCTYPE html>
<!-- CSP support mode (required for Windows Universal apps): https://docs.angularjs.org/api/ng/directive/ngCsp -->
<html lang="en" ng-app="app" ng-csp>
<head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- JS dependencies (order matters!) -->
    <script src="scripts/platformOverrides.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/onsen/js/onsenui.js"></script>


		
		
    <!-- CSS dependencies -->
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components-blue-basic-theme.css" />

    <!-- CSP support mode (required for Windows Universal apps) -->
    <link rel="stylesheet" href="lib/angular/angular-csp.css" />

<script src="js/autocomplete.js"></script>
<link rel="stylesheet" href="css/autocomplete.css" />
<link rel="stylesheet" href="meucss.css" />	
    <!-- --------------- App init --------------- -->
    <script src="app.js"></script>

    <title>Chama Garçom</title>

<style>

        .item {
            padding: 10px;
            line-height: 1;
        }

        .item-thum {
            width: 70px;
            height: 70px;
            border-radius: 4px;
        }

        .item-title {
            font-size: 15px;
            font-weight: 800;
        }

        .item-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.3;
            margin: 4px 0 0 0;
            padding: 0 30px 0 0;
        }

        .item-label {
            font-size: 12px;
            color: #999;
            float: right;
        }
		
.navigation-bar {
  font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 17px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
  white-space: nowrap;
  overflow: hidden;
  word-spacing: 0;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  cursor: default;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  z-index: 2;
  display: block;
  height: 44px;
  padding-left: 0;
  padding-right: 0;
  background: #333333;
  color: #ffffff;
  -webkit-box-shadow: none;
  box-shadow: none;
  border-bottom: 1px solid #dddddd;
  font-weight: 400;
  width: 100%;
  white-space: nowrap;
  overflow: visible;
}
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .navigation-bar {
    border-bottom: none;
    -webkit-background-size: 100% 1px;
    background-size: 100% 1px;
    background-repeat: no-repeat;
    background-position: bottom;
    background-image: -webkit-linear-gradient(90deg, #dddddd, #dddddd 50%, transparent 50%);
    background-image: -moz-linear-gradient(90deg, #dddddd, #dddddd 50%, transparent 50%);
    background-image: -o-linear-gradient(90deg, #dddddd, #dddddd 50%, transparent 50%);
    background-image: linear-gradient(0deg, #dddddd, #dddddd 50%, transparent 50%);
  }
}
.navigation-bar__line-height {
  line-height: 44px;
  padding-bottom: 0;
  padding-top: 0;
}
.navigation-bar__bg {
  background: #333333;
}
.navigation-bar__item,
.navigation-bar__left,
.navigation-bar__right,
.navigation-bar__center {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  height: 44px;
  vertical-align: top;
  overflow: visible;
  display: block;
  vertical-align: middle;
  float: left;
}
.navigation-bar__left {
  max-width: 50%;
  width: 27%;
  text-align: left;
}
.navigation-bar__right {
  max-width: 50%;
  width: 27%;
  text-align: right;
}
.navigation-bar__center {
  width: 46%;
  text-align: center;
  line-height: 44px;
  font-size: 17px;
  font-weight: 500;
  color: #ffffff;
}
.navigation-bar__title {
  line-height: 44px;
  font-size: 17px;
  font-weight: 500;
  color: #ffffff;
  margin: 0;
  padding: 0;
  overflow: visible;
}
.navigation-bar__center:first-child:last-child {
  width: 100%;
}

</style>
<style>
 .red {
    background-color: red;
	height: 100%; 
 }
 .notification {
  position: relative;
  display: inline-block;
  vertical-align: top;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 17px;
  cursor: default;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  text-decoration: none;
  padding: 0 4px;
  width: auto;
  height: 19px;
  -webkit-border-radius: 19px;
  border-radius: 19px;
  background-color: #dc5236;
  color: #fff;
  text-align: center;
  font-size: 16px;
  min-width: 19px;
  line-height: 19px;
  font-weight: 400;
}
.dropdown {
  font-weight: 400;
  font-size: 17px;
  min-width: 29px;
  min-height: 29px;
  line-height: 19px;
}
</style>

<!-- Estilo para rating com estrelas -->
<style>

.rating{
  color: #a9a9a9;
  margin: 0;
  padding: 0;
}

ul.rating {
  display: inline-block;
}

.rating li {
  list-style-type: none;
  display: inline-block;
  padding: 1px;
  text-align: center;
  font-weight: bold;
  cursor: pointer;
}

.rating .filled {
  color: #21568b;
}


.classlogin {
    display: block;
    width: 80%;
    height: 48px;
    margin: 0 auto;
    font-size: 19px;
    outline: none;
    line-height: 48px;
}

.text-input--underbar {
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
  line-height: normal;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
  vertical-align: top;
  outline: none;
  line-height: 1;
  font-family: 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 400;
  font-size: 17px;
  letter-spacing: 0;
  border: 1px solid #ddd;
  -webkit-border-radius: 4px;
  border-radius: 4px;
  background-color: #fff;
  -webkit-box-shadow: none;
  box-shadow: none;
  color: #1f1f21;
  padding: 4px 8px 0 8px;
  margin: 0;
  font-size: 15px;
  height: 31px;
  font-weight: 400;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: none;
  background-color: transparent;
  border-bottom: 1px solid #ddd;
  -webkit-border-radius: 0px;
  border-radius: 0px;
}
.text-input--underbar:disabled {
  opacity: 0.3;
  cursor: default;
  pointer-events: none;
  border: none;
  background-color: transparent;
  border-bottom: 1px solid #ddd;
}
.text-input--underbar:disabled::-webkit-input-placeholder,
.text-input--underbar:disabled::-moz-placeholder,
.text-input--underbar:disabled:-ms-input-placeholder {
  color: #999;
  border: none;
  background-color: transparent;
}
.text-input--underbar:invalid {
  border: 1px solid #ddd;
  color: #1f1f21;
  border: none;
  background-color: transparent;
  border-bottom: 1px solid #ddd;
}

.login-button {
    display: block;
    width: 80%;
    margin: 0 auto 0 auto;
    font-size: 18px;
}

</style>

<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>


</head>

<body ng-controller="AppController">
    <!-- Cordova reference -->
    <script src="cordova.js"></script>
    <script src="scripts/index.js"></script>
    <!-- -->

	
<!-- LOGIN PAGE -->
    <ons-navigator var="navi" >
        <ons-page class="red">
		<div ng-controller="LoginController" class="red">
		<br><br><br>
		<font color="white">
		<center><ons-icon icon="fa-beer" size="80px" ></ons-icon><br>
		<font style="font-size:150%; font-family: 'Lobster';">ChamaGarçom</font>
		
		<br><br><br>
		<br><br>
		<input type=text ng-model="token" class="text-input--underbar classlogin" style="font-size:25px; color:white;" placeholder="Token da mesa: 4 letras"><br>
	
			<ons-button style="background-color:#333333" class="button login-button" ng-click="loginMesa(token)">Entrar</ons-button>	 
			
			</font>

		</center>
		</div>	
        </ons-page>
    </ons-navigator>
	
	
	
<!-- CHAMAR GARÇOM -->
    <ons-template id="chamaGarcom.html">
        <ons-page ng-controller="ChamaGarcomController">
            <ons-toolbar>
                <div class="left"><ons-toolbar-button ng-click="voltaprincipal()">Voltar</ons-toolbar-button></div>
                <div class="center">Chama Garçom</div>
            </ons-toolbar>
            <ons-list modifier="inset" style="margin-top: 10px">
                <ons-list-item class="item">
                    <ons-row>
                        <ons-col width="80px">
							<div class="list-item-left"><img src=http://chamagar.com/fotos/{{fotogarcom}} class="item-thum">
							</div>
                        </ons-col>
                        <ons-col>
                            <header>
                                <span class="item-title">{{txtchamando}}</span>
                            </header>
                            <p class="item-desc">{{mesa[0].nomegarcom}}</p>
							<p class="item-desc" ng-show="chamando"><font color={{mesa[0].corfonte}}><ons-icon icon="refresh" size="11px" spin="true" fixed-width="true"></ons-icon></ons-icon><span style="font-size:11px"> {{mesa[0].tempo}}</font></span></p>
                        </ons-col>
                    </ons-row>
                </ons-list-item>
                <ons-list-item  ><br><br>
                    <button class="button button--large" ng-show="chamando" ng-click="cancelarChamado(token)" >Cancelar Chamado</button>
					<button class="button--large--cta" ng-show="!chamando" ng-click="ativarChamado(token)" >Chamar Garçom</button>								
                </ons-list-item>				   
            </ons-list>
            <br>
        </ons-page>
    </ons-template>
	
<!-- FAZER PEDIDO -->	
    <ons-template id="pedido.html">
        <ons-page ng-controller="PedidoController" class="red">

            <ons-toolbar>
                <div class="left"><ons-toolbar-button ng-click="voltaprincipal()">Voltar</ons-toolbar-button></div>
                <div class="center">Fazer Pedido</div>
            </ons-toolbar>
		<ul class="list">
		  <li class="list__header">
		  </li>
		  <li class="list__item">
			<div ng-controller="CardapioController" >
			  <autocomplete ng-model="itemcardapio" data="cardapio"></autocomplete>
			  <ons-row>
					  <ons-col width="60px"  class="plan-right">
					 
					  </ons-col>
					 <ons-col  class="plan-left">
					 Qtd:
					 
					 <select name="qtd_cardapio" ng-model="qtd_cardapio" class="dropdown">
						<option class="opcao" value="1" selected="selected">1</option>
						<option class="opcao" value="2">2</option>
						<option class="opcao" value="3">3</option>	
						<option class="opcao" value="4">4</option>
						<option class="opcao" value="5">5</option>
						<option class="opcao" value="6">6</option>
						<option class="opcao" value="7">7</option>	
						<option class="opcao" value="8">8</option>
						<option class="opcao" value="9">9</option>
						<option class="opcao" value="10">10</option>
						</select>
					 <button  ng-disabled="itemcardapio.length < 3 || itemcardapio.length == 'undefined' " class="button" ng-click="enviarpedido(itemcardapio, qtd_cardapio, token);">Enviar Pedido</button><br><br>
					</ons-col>	
				<ons-row>	  
			 
			</div>
		  </li>
		  <li class="list__header">
			Pedidos Enviados
		  </li>
		</ul>
				<ons-list class="plan-list" id="IDPedidoController"  ng-controller="PedidoController">
				  <ons-list-item modifier="chevron" class="plan" ng-repeat="pedido in pedidos">
					<ons-row>
					  <ons-col width="80px" class="plan-left">
						<div class="plan-date">{{pedido.hora}}</div>
						<div class="plan-duration">{{pedido.tempo}}</div>
					  </ons-col>

					  <ons-col width="6px" class="plan-center" ng-style="{backgroundColor:pedido.status == '2' ? '#33ff33' : pedido.status == '1'  ?  '#3399ff' : '#ccc'}">
					  </ons-col>

					  <ons-col class="plan-right">
						<div class="plan-name">{{pedido.quantidade}} {{pedido.itemcardapio}}</div>

						<div class="plan-info">
							<p class="item-desc" ><font color=gray><ons-icon ng-show="pedido.status == '1'" icon="refresh" size="14px" spin="true" fixed-width="true"></ons-icon><span style="font-size:13px">{{pedido.status == '2' ? 'Enviado' : pedido.status == '1'  ?  'Em andamento' : 'Encerrado'}}</font></span></p>
						  </div>
						</div>
					  </ons-col>
					</ons-row>
				  </ons-list-item>
				</ons-list>
        </ons-page>
    </ons-template>	
	
	<!-- FECHAR A CONTA -->
    <ons-template id="fecharconta.html">
        <ons-page ng-controller="PedidoController" class="red">
		<ons-toolbar>
			<div class="left"><ons-toolbar-button ng-click="voltaprincipal()">Voltar</ons-toolbar-button></div>
			<div class="center">Fechar a Conta</div>
		</ons-toolbar>
		
		<div class="main-image-wrapper">
		<i class="fa fa-money main-image"></i>
		</div>
		<center>
			<button class="button fecharconta-button" ng-click="enviarpedido('FECHAR A CONTA', '1', token);">Fechar a conta</button>
		</center>
        </ons-page>
    </ons-template>	

	<!-- DAR NOTA -->
    <ons-template id="deumanota.html">
        <ons-page ng-controller="DeUmaNotaController" class="red">
		<ons-toolbar>
			<div class="left"><ons-toolbar-button ng-click="voltaprincipal()">Voltar</ons-toolbar-button></div>
			<div class="center">De uma nota</div>
		</ons-toolbar>
		<ul class="list">
			  <li class="list__header">
			  </li>
			  <li class="list__item">
				<br>
				<div ng-init="rating = star.rating + 1"></div>
				<center>
				<font style="font-size:35px">
				<div class="star-rating" star-rating rating-value="rating" data-max="5" ></div>
				</font>
	
				<font style="12px">Comentário opcional</font><br>
				<font style="20px">
				<textarea ng-model="comentario" name="comentario" cols=30 rows=3></textarea><br></font>

				<button class="button" ng-click="darnota(rating, comentario, token);">Enviar nota</button><br><br>
			  	</center>	
				</div>
			  </li>
		 </ul>
        </ons-page>
    </ons-template>		
	
	
</body>
</html>